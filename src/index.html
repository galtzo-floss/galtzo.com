---
layout: default
title: Open Source Projects
permalink: /
body_class: projects
---
<% allowed_roles = %w(author maintainer contributor) %>

<% years = site.data.projects.map {|p| p['first_commit_on']&.to_s&.split('/')&.first }.compact.uniq.sort %>
<% year_counts = {} %>
<% site.data.projects.each do |project| %>
<% year = project['first_commit_on']&.to_s&.split('/')&.first %>
<% if year %>
<% year_counts[year] ||= 0 %>
<% year_counts[year] += 1 %>
<% end %>
<% end %>

<% tags = site.data.projects.flat_map { |project| project["tags"] || [] }.uniq.sort %>
<% tag_counts = {} %>
<% site.data.projects.each do |project| %>
<% (project["tags"] || []).each do |tag| %>
<% tag_counts[tag] ||= 0 %>
<% tag_counts[tag] += 1 %>
<% end %>
<% end %>

<% bash_projects = site.data.projects.select {|p| p["language"] == "Bash" } %>
<% min_bash_versions = bash_projects.flat_map { |project| project["minimum_version"] || [] }.uniq.sort %>
<% min_bash_counts = {} %>
<% bash_projects.each do |project| %>
<% if project["minimum_version"] %>
<% min_bash_counts[project["minimum_version"]] ||= 0 %>
<% min_bash_counts[project["minimum_version"]] += 1 %>
<% end %>
<% end %>

<% ts_projects = site.data.projects.select {|p| p["language"] == "TypeScript" } %>
<% min_ts_versions = ts_projects.flat_map { |project| project["minimum_version"] || [] }.uniq.sort %>
<% min_ts_counts = {} %>
<% ts_projects.each do |project| %>
<% if project["minimum_version"] %>
<% min_ts_counts[project["minimum_version"]] ||= 0 %>
<% min_ts_counts[project["minimum_version"]] += 1 %>
<% end %>
<% end %>

<% rb_projects = site.data.projects.select {|p| p["language"] == "Ruby" } %>
<% min_rb_versions = rb_projects.flat_map { |project| project["minimum_version"] || [] }.uniq.sort %>
<% min_rb_counts = {} %>
<% rb_projects.each do |project| %>
<% if project["minimum_version"] %>
<% min_rb_counts[project["minimum_version"]] ||= 0 %>
<% min_rb_counts[project["minimum_version"]] += 1 %>
<% end %>
<% end %>

<% go_projects = site.data.projects.select {|p| p["language"] == "Go" } %>
<% min_go_versions = go_projects.flat_map { |project| project["minimum_version"] || [] }.uniq.sort %>
<% min_go_counts = {} %>
<% go_projects.each do |project| %>
<% if project["minimum_version"] %>
<% min_go_counts[project["minimum_version"]] ||= 0 %>
<% min_go_counts[project["minimum_version"]] += 1 %>
<% end %>
<% end %>

<% lanugage_count = min_go_versions.count + min_rb_counts.count + min_ts_counts.count + min_bash_counts.count %>

<% role_counts = {} %>
<% site.data.projects.each do |project| %>
<% if project["role"] %>
<% role_counts[project["role"]] ||= 0 %>
<% role_counts[project["role"]] += 1 %>
<% end %>
<% end %>

<h1>
  <%= (page.respond_to?(:data) && page.data["title"]) || "Open Source Projects" %>
  <span class="tag-list">
    <% allowed_roles.each do |role| %>
    <span>
      <button type="button" class="tag-link role-link <%= role %>" data-tag="<%= role %>">
        <span class="count left"><%== role_counts[role].to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
        <span class="tag <%= role %>"><%= role %></span>
        <span class="count right"><%== role_counts[role].to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
      </button>
     </span>
     <% end %>
   </span>
 </h1>

<p>
  Hi, my name is Peter Boling, and I love to solve problems with code.
  Maintaining these projects, with a focus on improving developer experience,
  requires a great deal of time and energy.
  I would appreciate your <a href="https://github.com/sponsors/pboling" class="text-link" target="_blank" rel="noopener">financial support</a>.
  Use the switches to filter projects by role, year, tags, and minimum language versions.
</p>

<details>
  <summary>
    <ul class="tag-list">
      <li>
        <button type="button" class="tag-link">
          <span class="count left"><%== year_counts.length.to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
          <span class="tag">Filter by Start Year</span>
          <span class="count right"><%== year_counts.length.to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
        </button>
      </li>
    </ul>
  </summary>

  <ul class="tag-list">
    <% years.each do |year| %>
    <li>
      <button type="button" class="tag-link" data-tag="<%= year %>">
        <span class="count left"><%== year_counts[year].to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
        <span class="tag <%= year %>"><%= year %></span>
        <span class="count right"><%== year_counts[year].to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
      </button>
    </li>
    <% end %>
  </ul>
 </details>

 <details>
   <summary>
     <ul class="tag-list">
       <li>
         <button type="button" class="tag-link">
           <span class="count left"><%== tag_counts.length.to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
           <span class="tag">Filter by Tag</span>
           <span class="count right"><%== tag_counts.length.to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
         </button>
       </li>
     </ul>
   </summary>

   <ul class="tag-list">
     <% tags.each do |tag| %>
     <li>
       <button type="button" class="tag-link" data-tag="<%= tag %>">
         <span class="count left"><%== tag_counts[tag].to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
         <span class="tag <%= tag %>"><%= tag %></span>
         <span class="count right"><%== tag_counts[tag].to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
       </button>
     </li>
     <% end %>
   </ul>
 </details>

 <details>
   <summary>
     <ul class="tag-list">
       <li>
         <button type="button" class="tag-link">
           <span class="count left"><%== lanugage_count.to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
           <span class="tag">Filter by Minimum Version of Language</span>
           <span class="count right"><%== lanugage_count.to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
         </button>
       </li>
     </ul>
   </summary>

   <ul class="tag-list">
     <% min_ts_versions.each do |min_ts| %>
     <li>
       <button type="button" class="tag-link min_lang-link" data-tag="TypeScript >= <%= min_ts %>">
         <span class="count left"><%== min_ts_counts[min_ts].to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
         <span class="tag min-language"><img
                 src="/assets/images/TypeScript.svg"
                 alt="TypeScript >= <%= min_ts %>"
                 class="language"
         >>= v<%= min_ts %></span>
         <span class="count right"><%== min_ts_counts[min_ts].to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
       </button>
     </li>
     <% end %>
     <% min_go_versions.each do |min_go| %>
     <li>
       <button type="button" class="tag-link min_lang_link" data-tag="Go >= <%= min_go %>">
         <span class="count left"><%== min_go_counts[min_go].to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
         <span class="tag min-language"><img
                 src="/assets/images/Go.svg"
                 alt="Go >= <%= min_go %>"
                 class="language"
         >>= v<%= min_go %></span>
         <span class="count right"><%== min_go_counts[min_go].to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
       </button>
     </li>
     <% end %>
     <% min_bash_versions.each do |min_bash| %>
     <li>
       <button type="button" class="tag-link min_lang_link" data-tag="Bash >= <%= min_bash %>">
         <span class="count left"><%== min_bash_counts[min_bash].to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
         <span class="tag min-language"><img
                 src="/assets/images/Bash.svg"
                 alt="Bash >= <%= min_bash %>"
                 class="language"
         >>= v<%= min_bash %></span>
         <span class="count right"><%== min_bash_counts[min_bash].to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
       </button>
     </li>
     <% end %>
     <% min_rb_versions[0...2].each do |min_ruby| %>
     <li>
       <button type="button" class="tag-link min_lang-link" data-tag="Ruby >= <%= min_ruby %>">
         <span class="count left"><%== min_rb_counts[min_ruby].to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
         <span class="tag min-language"><img
                 src="/assets/images/Ruby.svg"
                 alt="Ruby >= <%= min_ruby %>"
                 class="language"
         >>= v<%= min_ruby %></span>
         <span class="count right"><%== min_rb_counts[min_ruby].to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
       </button>
     </li>
     <% end %>
     <% min_rb_versions[2..].each do |min_ruby| %>
     <li>
       <button type="button" class="tag-link min_lang-link" data-tag="Ruby >= <%= min_ruby %>">
         <span class="count left"><%== min_rb_counts[min_ruby].to_s.rjust(2, 'x').gsub('x', '&nbsp;') %></span>
         <span class="tag min-language"><img
                 src="/assets/images/Ruby.svg"
                 alt="Ruby >= <%= min_ruby %>"
                 class="language"
         >>= v<%= min_ruby %></span>
         <span class="count right"><%== min_rb_counts[min_ruby].to_s.ljust(2, 'x').gsub('x', '&nbsp;') %></span>
       </button>
     </li>
     <% end %>
   </ul>
 </details>

<ul class="project-list">
  <% site.data.projects.each do |project| %>
    <% raise "Project #{project['name']} has no role!" if project['role'].nil? %>
    <% raise "Project #{project['name']} has invalid role #{project['role']}!" unless allowed_roles.include?(project['role']) %>
    <% year = project['first_commit_on']&.to_s&.split('/')&.first %>
    <% gh_forge = project["forges"].find { |f| f["type"] == "GitHub" } %>
    <% first_forge = project["forges"].first %>
    <%# Build a reusable list of tags for the card so filtering doesn't rely on visible DOM elements %>
    <% tags_for_card = (project['tags'] || []).dup %>
    <% tags_for_card << project['role'] %>
    <% tags_for_card << year %>
    <% if project['minimum_version'] %>
      <% tags_for_card << "#{project['language']} >= #{project['minimum_version']}" %>
    <% end %>
    <li class="card <%= project['role'] %>" data-tags='<%= tags_for_card.to_json %>'>
      <div class="corner-anchor fork">
        <% if gh_forge %>
        <a href="<%= gh_forge['url'] %>/fork" class="corner-banner banner-fork" target="_blank" rel="noopener">Fork Me</a>
        <% elsif first_forge %>
        <a href="<%= first_forge['url'] %>" class="corner-banner banner-fork" target="_blank" rel="noopener">Clone Me</a>
        <% end %>
      </div>
      <div class="corner-anchor role">
        <div class="corner-banner banner-role <%= project['role'] %>">
          <span class="role-label">
            <% if gh_forge %>
            <a href="<%= gh_forge['url'] %>/commits?author=pboling" target="_blank" rel="noopener"><%= project['role'].capitalize %></a>
            <% else %>
            <span><%= project['role'].capitalize %></span>
            <% end %>
            <% if project['first_commit'] && year %>
            &nbsp;|&nbsp;
            <a href="<%= project['first_commit'] %>" class="role-start" target="_blank" rel="noopener">since <%= year %></a>
            <% end %>
          </span>
        </div>
      </div>
      <h2>
        <% if project["ecosystem"] %>
        <a href="https://bestgems.org/gems/<%= project['name'] %>" class="gem-link" target="_blank" rel="noopener">
          <img
                  src="/assets/images/<%= project['language'] %>.svg"
                  alt="<%= project['language'] %>"
                  class="language"
                  height="24px"
          >
          <%= project["name"] %>
        </a>
        <% else %>
        <span>
          <img
                  src="/assets/images/<%= project['language'] %>.svg"
                  alt="<%= project['language'] %>"
                  class="language"
                  height="24px"
          >
          <%= project["name"] %>
        </span>
        <% end %>
      </h2>
      <p>
        <% if !project["funding_sites"].nil? %>
        <% project["funding_sites"].each do |funding_site| %>
        <a href="<%= funding_site['url'] %>" class="funding-link" target="_blank" rel="noopener">
          <img
                  src="/assets/images/<%= funding_site['type'] %>.svg"
                  alt="Documentation Website (<%= funding_site['url'] %>)"
                  class="link-icon funding-site"
          >
        </a>
        <% end %>
        <% else %>
        <a href="https://liberapay.com/pboling" class="funding-link" target="_blank" rel="noopener">
          <img
                  src="/assets/images/Liberapay.svg"
                  alt="This project has no funding links. Please donate to me directly!"
                  class="link-icon funding-site"
          >
        </a>
        <% end %>
        <% if !project["docs_site"].nil? %>
        <a href="<%= project['doc_site'] %>" class="doc-link" target="_blank" rel="noopener">
          <img
                  src="/assets/images/Read-the-Docs.svg"
                  alt="Documentation Website (<%= project['doc_site'] %>)"
                  class="link-icon doc-site"
          >
        </a>
        <% end %>
        <% project["forges"].each do |forge| %>
        <a href="<%= forge['url'] %>" class="forge-link" target="_blank" rel="noopener">
          <img
                  src="/assets/images/<%= forge['type'] %>.svg"
                  alt="forge: <%= forge['type'] %> (<%= forge['url'] %>)"
                  class="link-icon forge"
          >
        </a>
        <% end %>
      </p>
      <p>
        <% if !project["minimum_version"].nil? %>
        <span class="tag min-language"><img
                src="/assets/images/<%= project['language'] %>.svg"
                alt="<%= project['language'] %> >= <%= project['minimum_version'] %>"
                class="language"
        ><%= project["language"] %> >= <%= project["minimum_version"] %></span>
        <% end %>
        <% if project["tags"] && project["tags"].any? %>
        <% project["tags"].each do |tag| %>
        <span class="tag <%= tag %>"><%= tag %></span>
        <% end %>
        <% else %>
        <% raise "Project #{project['name']} has no tags!" %>
        <% end %>
      </p>
      <p>
        <% if gh_forge %>
        <img alt="<%= project['name'] %> GitHub License" src="https://img.shields.io/github/license/<%= gh_forge['owner'] %>/<%= project['name'] %>?style=social">
        <img alt="<%= project['name'] %> GitHub stars" src="https://img.shields.io/github/stars/<%= gh_forge['owner'] %>/<%= project['name'] %>?style=social">
        <img alt="<%= project['name'] %> GitHub commit activity" src="https://img.shields.io/github/commit-activity/m/<%= gh_forge['owner'] %>/<%= project['name'] %>?style=social">
        <% if project["language"] == "Ruby" %>
        <img alt="<%= project['name'] %> GitHub commits since latest release" src="https://img.shields.io/github/commits-since/<%= gh_forge['owner'] %>/<%= project['name'] %>/latest?style=social">
        <img alt="<%= project['name'] %> Gem Total Downloads" src="https://img.shields.io/gem/dt/<%= project['name'] %>?style=social">
        <% end %>
        <% end %>
      </p>
      <p><%== project["description"] %></p>
      <% raise "#{project['name']}" if project["funding_sites"].nil? %>
      <% if project["funding_sites"].any? %>
      <p>
        Financially support my work on <pre><%= project["name"] %></pre> via:
        <% last_comma_index = project["funding_sites"].size - 1 %>
        <% project["funding_sites"].each_with_index do |funding_site, i| %>
        <a href="<%= funding_site['url'] %>" class="text-link" target="_blank" rel="noopener">
          <% if funding_site['type'] == 'OpenCollective' %>
          "<%= funding_site['url'].split("/")[-1] %>"
          <% end %>
          <%= funding_site['type'] %>
        </a><%= i <= last_comma_index - 1 ? ", " : "" %><%= i == last_comma_index - 1 ? "or" : "" %>
        <% end %>
      </p>
      <% end %>
    </li>
  <% end %>
</ul>
